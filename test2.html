<!DOCTYPE html>
<html>
<head>
	<script type="text/javascript" src="d3.js"></script>
	<title></title>
</head>
<body>
	<script type="text/javascript">
		var data = d3.csv("/data/shots.csv").then(function(data) {
			data.forEach(function(d) { d['LOC_Y'] = +d['LOC_Y'],
						  			   d['LOC_X'] = +d['LOC_X']; 

									}); 

			// Variables
			var body = d3.select('body')
			var h = 900
			var w = 900
			var formatPercent = d3.format('.2%')
			var basketCoord = [10,50]
			var i = 0
			var plotData = []

			// Scales
			var xScale = d3.scaleLinear()
				.domain([d3.min(data, function (d) {return d.LOC_X - 50;}),
						 d3.max(data, function (d) {return d.LOC_X + 50;})])
				.range([0, w]);

			var yScale = d3.scaleLinear()
				.domain([d3.min(data, function (d) {return -d.LOC_Y - 50;}),
						 d3.max(data, function (d) {return -d.LOC_Y + 150;})])
				.range([h, 0]);
			
			// SVG
			var svgContainer = body.append('svg')
				.attr('height', h)
				.attr('width', w)

			var line = d3.line().curve(d3.curveBundle.beta(0.95))
			var splines = svgContainer.selectAll('path')
				.data(data)
				.enter()
				.append('path')
					.attr('d', function(d){
					return 	line([[xScale(d.LOC_X), yScale(-d.LOC_Y)],
								  [xScale(d.LOC_X), yScale(-d.LOC_Y + 200)],
								  [xScale(0), yScale(200)],
								  [xScale(0), yScale(100)]])})
					.attr("stroke", "black")
                    .attr("stroke-width", 0.1)
                    .attr("fill", "none")
                    .attr("opacity", 0.1)

		/*	var lines = svgContainer.selectAll('line')
						.data(data)
						.enter()
						.append('line')
							.attr("x1", function(d) { return xScale(d.NEW_Y); })
				            .attr("y1", function(d) { return yScale(d.LOC_X); })
				            .attr("x2", function(d) { return xScale(d.NEW_Y); })
				            .attr("y2", function(d) { return yScale(d.LOC_X + 70); })
				            .attr("stroke", "black")
				            .attr("stroke-width", 1) ; */
		});
	</script>

</body>
</html>